{% extends "shop/base.html" %}

{% block title %}Pay by credit card{% endblock %}

{% block content %}
<form id="paymentForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" />
    </div>
    <div class="form-group">
      <label for="email">Email Address</label>
      <input type="email" id="email-address" />
    </div>
    </div>
    <div class="form-group">
      <label for="amount">Amount</label>
      <input type="number" id="amount" required />
    </div>
    <div class="form-submit">
      <button type="submit" onclick="payWithLazerpay()"> Pay with Lazerpay </button>
    </div>
  </form>
  
  <script src="https: //cdn.jsdelivr.net/gh/LazerPay-Finance/checkout-build@main/checkout@1.0.1/dist/index.min.js">
</script>
  </script>
  
  <script>
  const paymentForm = document.getElementById('paymentForm');
  
  paymentForm.addEventListener("submit", payWithLazerpay, false);
  
  function payWithLazerpay(e){
    e.preventDefault();
    LazerCheckout({
       reference: 'W6b8hV55l0435t3545435',
       name: document.querySelector("#name").value,
       email: document.querySelector("#email-address").value,
       amount: document.querySelector("#amount").value,
       key: "pk_test_xG0EjfzUsGIUDpMeQKZFItGFEBtR5SzHzsqwrzlsdADVzPrjZb", 
       currency: "USD",
       acceptPartialPayment: true, // By default it's false
       onClose: (data)=>{
       },
       onSuccess: (data)=>{
       },
       onError: (data)=>{
       }
    })
  }
  </script>

{% endblock %}